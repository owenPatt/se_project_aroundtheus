!function(){"use strict";class e{constructor(e,t,s,i,n){let{name:r,link:o,_id:a,isLiked:l}=e;this.name=r,this.link=o,this.id=a,this._initialState=l,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteBtnClick=i,this._handleLikeBtnClick=n}setLikeBtnState=()=>{this._likeBtn.classList.toggle("card__like-button_active")};isLiked=()=>this._likeBtn.classList.contains("card__like-button_active");handleDelete=()=>{this._cardElement.remove()};_setEventListeners(){this._likeBtn.addEventListener("click",(()=>{this._handleLikeBtnClick(this)})),this._deleteBtn.addEventListener("click",(()=>{this._handleDeleteBtnClick(this)})),this._imageEl.addEventListener("click",(()=>{this._handleImageClick(this)}))}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0),this._likeBtn=this._cardElement.querySelector(".card__like-button"),this._deleteBtn=this._cardElement.querySelector(".card__delete-button"),this._imageEl=this._cardElement.querySelector(".card__image"),this._titleEl=this._cardElement.querySelector(".card__title"),this._setEventListeners(),this._imageEl.src=this.link,this._imageEl.alt=this.name,this._titleEl.textContent=this.name,this._initialState&&this.setLikeBtnState(),this._cardElement}}class t{constructor(e,t){this._config=e,this._formEl=t}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorMessageClassVisible),t.textContent=e.validationMessage}_hideInputError(e){this._formEl.querySelector(`#${e.id}-error`).classList.remove(this._config.errorMessageClassVisible),e.classList.remove(this._config.inputErrorClass)}_checkValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_allInputsValid(){return this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._allInputsValid()?(this._submitButton.classList.remove(this._config.inactiveButtonClass),this._submitButton.removeAttribute("disabled")):(this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.setAttribute("disabled",!0))}_setEventListeners(){this._submitButton=this._formEl.querySelector(this._config.submitButtonSelector),this._toggleButtonState(),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._inputEls=[...this._formEl.querySelectorAll(this._config.inputSelector)],this._setEventListeners()}setButtonState(){this._toggleButtonState()}clearValidationErrors(){this._inputEls.forEach((e=>{this._hideInputError(e)}))}}const s={formSelector:".modal__form",inputSelector:".modal__item",submitButtonSelector:".modal__button",errorMessageClass:"modal__error",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__item_type_error",errorMessageClassVisible:"modal__error_visible"};class i{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this.addItem(this._renderer(e))}))}addItem(e){this._container.insertAdjacentElement("afterbegin",e)}}class n{constructor(e){this._popupEl=document.querySelector(e)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};loading(e){this._submitBtn.textContent=e?"Saving...":"Save"}open(){this._popupEl.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupEl.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._submitBtn=this._popupEl.querySelector(".modal__button"),this._popupEl.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close"))&&this.close()}))}}class r extends n{constructor(e,t){super(e),this._handleSubmitForm=t,this._formEl=this._popupEl.querySelector(".modal__form"),this._inputEls=Array.from(this._popupEl.querySelectorAll(".modal__item"))}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._formEl.addEventListener("submit",(e=>{this._handleSubmitForm(e,this._getInputValues())}))}close(){super.close(),this._formEl.reset()}}const o=document.querySelector("#profile-edit-button"),a=document.querySelector("#profile-avatar"),l=document.querySelector("#profile-edit-modal"),c=l.querySelector("#profile-modal-name-input"),d=l.querySelector("#profile-modal-description-input"),h=document.querySelector("#add-card-button"),_=new t(s,document.forms["profile-modal-form"]),u=new t(s,document.forms["card-modal-form"]),m=new t(s,document.forms["avatar-modal-form"]);_.enableValidation(),u.enableValidation(),m.enableValidation();const p=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.json())).then((e=>e)).catch((e=>console.log(e)))}getCurrentUser(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>e.json())).then((e=>e)).catch((e=>console.log(e)))}updateUser(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}createCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})})}deleteCard(e){fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e)))}likeCard(e){fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e)))}dislikeCard(e){fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c2b0fb8f-5e2c-45d3-9e40-bbe48905b446","content-type":"application/json"}});let E;p.getInitialCards().then((e=>{E=new i({items:e,renderer:B},".cards__list"),E.renderItems()}));const f=new r("#profile-edit-modal",(function(e,t){let{title:s,description:i}=t;e.preventDefault(),f.loading(!0),p.updateUser(s,i).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e))).finally((()=>{L.setUserInfo(s,i),f.loading(!1),f.close()}))})),v=new r("#card-add-modal",(function(e,t){e.preventDefault(),v.loading(!0),p.createCard(t.name,t.link).then((e=>e.json())).then((e=>{t._id=e._id})).catch((e=>console.log(e))).finally((()=>{E.addItem(B(t)),v.loading(!1),v.close()}))})),g=new r("#avatar-modal",(function(e,t){let{link:s}=t;e.preventDefault(),g.loading(!0),p.updateAvatar(s).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e))).finally((()=>{L.setAvatar(s),g.loading(!1),g.close()}))})),b=new class extends n{constructor(e){super(e),this._pictureEl=this._popupEl.querySelector(".modal__image"),this._captionEl=this._popupEl.querySelector(".modal__title")}open(e,t){this._pictureEl.src=e,this._pictureEl.alt=t,this._captionEl.innerText=t,super.open()}}("#picture-modal"),S=new class extends n{constructor(e,t){super(e),this._handleButtonClick=t,this._button=this._popupEl.querySelector(".modal__button")}setEventListeners(){super.setEventListeners(),this._button.addEventListener("click",(()=>{this._handleButtonClick(this._calledEl)}))}open(e){super.open(),this._calledEl=e}close(){super.close(),this._calledEl=null}}("#card-delete-modal",(function(e){e.handleDelete(),p.deleteCard(e.id),S.close()}));f.setEventListeners(),v.setEventListeners(),g.setEventListeners(),b.setEventListeners(),S.setEventListeners();const L=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:i}=e;this._nameEl=document.querySelector(t),this._jobEl=document.querySelector(s),this._avatarEl=document.querySelector(i),this._name=this._nameEl.textContent,this._job=this._jobEl.textContent,this._avatar=this._avatarEl.src}_setPage(){this._jobEl.textContent=this._job,this._nameEl.textContent=this._name,this._avatarEl.src=this._avatar}getUserInfo(){return{name:this._name,job:this._job}}setUserInfo(e,t){this._name=e,this._job=t,this._setPage()}setAvatar(e){this._avatar=e,this._setPage()}}({nameSelector:"#profile-title",jobSelector:"#profile-description",avatarSelector:"#profile-image"});function k(e){b.open(e.link,e.name)}function y(e){S.open(e)}function C(e){e.isLiked()?p.dislikeCard(e.id):p.likeCard(e.id),e.setLikeBtnState()}function B(t){return new e(t,"#card-template",k,y,C).getView()}p.getCurrentUser().then((e=>{L.setUserInfo(e.name,e.about),L.setAvatar(e.avatar)})),o.addEventListener("click",(()=>{!function(){const e=L.getUserInfo();c.value=e.name,d.value=e.job}(),_.setButtonState(),_.clearValidationErrors(),f.open()})),h.addEventListener("click",(()=>{u.setButtonState(),u.clearValidationErrors(),v.open()})),a.addEventListener("click",(()=>{m.setButtonState(),m.clearValidationErrors(),g.open()})),document.querySelector("body").classList.remove("no-transition")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBTXVMLEVBQVd4TCxLQUNoRCxDQUVBLFNBQVNGLEVBQXFCNEssR0FDNUJOLEVBQWdCMUUsS0FBS2dGLEVBQ3ZCLENBUUEsU0FBUzNLLEVBQW1CMkssR0FDckJBLEVBQVV2SyxVQUdiK0csRUFBSThCLFlBQVkwQixFQUFVckssSUFGMUI2RyxFQUFJNkIsU0FBUzJCLEVBQVVySyxJQUl6QnFLLEVBQVUvSixpQkFDWixDQUtBLFNBQVN3SSxFQUFnQlEsR0FTdkIsT0FQYSxJQUFJbEssRUFDZmtLLEVBQ0EsaUJBQ0E0QixFQUNBekwsRUFDQUMsR0FFVXdCLFNBQ2QsQ0EvRkEyRixFQUFJZ0IsaUJBQWlCUixNQUFNRyxJQUN6QjJCLEVBQVNDLFlBQVk1QixFQUFPN0gsS0FBTTZILEVBQU9PLE9BQ3pDb0IsRUFBU00sVUFBVWpDLEVBQU9jLE9BQU8sSUF5R25DbkMsRUFBZXBGLGlCQUFpQixTQUFTLE1BVnpDLFdBQ0UsTUFBTXFLLEVBQU9qQyxFQUFTNkIsY0FDdEIxRSxFQUFzQkwsTUFBUW1GLEVBQUt6TCxLQUNuQzRHLEVBQTZCTixNQUFRbUYsRUFBS0gsR0FDNUMsQ0FPRUksR0FDQTVFLEVBQTBCOUMsaUJBQzFCOEMsRUFBMEI3Qyx3QkFDMUJtRixFQUFhMUQsTUFBTSxJQUVyQm1CLEVBQVd6RixpQkFBaUIsU0FBUyxLQUNuQzRGLEVBQXVCaEQsaUJBQ3ZCZ0QsRUFBdUIvQyx3QkFDdkJ5RixFQUFhaEUsTUFBTSxJQUVyQmUsRUFBY3JGLGlCQUFpQixTQUFTLEtBQ3RDNkYsRUFBeUJqRCxpQkFDekJpRCxFQUF5QmhELHdCQUN6QjJGLEVBQVlsRSxNQUFNLElBTXBCbEUsU0FBU0MsY0FBYyxRQUFRWixVQUFVSyxPQUFPLGdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IG5hbWUsIGxpbmssIF9pZCwgaXNMaWtlZCB9LFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ0bkNsaWNrLFxuICAgIGhhbmRsZUxpa2VCdG5DbGlja1xuICApIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubGluayA9IGxpbms7XG4gICAgdGhpcy5pZCA9IF9pZDtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSBpc0xpa2VkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdG5DbGljayA9IGhhbmRsZURlbGV0ZUJ0bkNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdG5DbGljayA9IGhhbmRsZUxpa2VCdG5DbGljaztcbiAgfVxuXG4gIHNldExpa2VCdG5TdGF0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH07XG5cbiAgaXNMaWtlZCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH07XG5cbiAgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL0FkZHMgbGlzdGVuZXJzXG4gICAgdGhpcy5fbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ0bkNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuX2RlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnRuQ2xpY2sodGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy5faW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgLy9jbG9uZXMgdGVtcFxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vR3JhYiBhbGwgZWxlbWVudHNcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9kZWxldGVCdG4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG4gICAgdGhpcy5faW1hZ2VFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fdGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG5cbiAgICAvL1NldHMgTGlzdGVuZXJzXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIC8vU2V0cyBjYXJkIHZhbHVlc1xuICAgIHRoaXMuX2ltYWdlRWwuc3JjID0gdGhpcy5saW5rO1xuICAgIHRoaXMuX2ltYWdlRWwuYWx0ID0gdGhpcy5uYW1lO1xuICAgIHRoaXMuX3RpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG4gICAgaWYgKHRoaXMuX2luaXRpYWxTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRMaWtlQnRuU3RhdGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsIi8vXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbCkge1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsID0gZm9ybUVsO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvck1lc3NhZ2VDbGFzc1Zpc2libGUpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvck1lc3NhZ2VDbGFzc1Zpc2libGUpO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfYWxsSW5wdXRzVmFsaWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IHtcclxuICAgICAgcmV0dXJuIGlucHV0RWwudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9hbGxJbnB1dHNWYWxpZCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbXHJcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSxcclxuICAgIF07XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldEJ1dHRvblN0YXRlKCkge1xyXG4gICAgLy9EaXNhYmxlIFN0YXRlIG9mIGJ1dHRvblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIGNsZWFyVmFsaWRhdGlvbkVycm9ycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy9cclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFyZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgdmFsaWRhdG9yQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faXRlbVwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgZXJyb3JNZXNzYWdlQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pdGVtX3R5cGVfZXJyb3JcIixcclxuICBlcnJvck1lc3NhZ2VDbGFzc1Zpc2libGU6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCB7IGluaXRpYWxDYXJkcywgdmFsaWRhdG9yQ29uZmlnIH07XHJcbiIsIi8vTmVlZCB0byBjcmVhdGUgdGhlIHJlbmRlcmVyIGZ1bmN0aW9uXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICAvL3JlbmRlcnMgYWxsIGVsZW1lbnRzIG9uIHRoZSBzY3JlZW5cbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAvL3JlbmRlcmVyIHJlbmRlcnMgZWFjaCBpbmRpdmlkdWFsIGVsZW1lbnRcbiAgICAgIHRoaXMuYWRkSXRlbSh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICAvL0FkZHMgaXQgdG8gdGhlIGNvbnRhaW5lclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGxvYWRpbmcoeWVzKSB7XG4gICAgaWYgKHllcykge1xuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3BvcHVwRWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgLy9BbGxvd3MgdGhlIG92ZXJsYXkgYW5kIGNsb3NlIGJ1dHRvbiB0byBjbG9zZSB0aGUgbW9kYWxcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSBoYW5kbGVTdWJtaXRGb3JtO1xuICAgIHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dEVscyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBFbC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pdGVtXCIpKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIHZhbHVlc1tpbnB1dEVsLm5hbWVdID0gaW5wdXRFbC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKGUsIHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtRWwucmVzZXQoKTtcbiAgfVxufVxuIiwiLy9cblxuLy9DU1NcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbi8vSmF2YXNjcmlwdFxuXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0b3JDb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbi8qKioqKioqKioqKipcbiAqIEVMRU1FTlRTICpcbiAqKioqKioqKioqKiovXG4vL1Byb2ZpbGUgZWxlbWVudHNcbmNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hdmF0YXJcIik7XG5cbi8vcHJvZmlsZSBtb2RhbCBlbGVtZW50c1xuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZU1vZGFsTmFtZUlucHV0ID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLW1vZGFsLW5hbWUtaW5wdXRcIlxuKTtcbmNvbnN0IHByb2ZpbGVNb2RhbERlc2NyaXB0aW9uSW5wdXQgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtbW9kYWwtZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcblxuLy9jYXJkIGVsZW1lbnRzXG5jb25zdCBhZGRDYXJkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1idXR0b25cIik7XG5cbi8qKioqKioqKioqKioqKioqKipcbiAqIEZPUk0gVkFMSURBVE9SUyAqXG4gKioqKioqKioqKioqKioqKioqL1xuY29uc3QgcHJvZmlsZU1vZGFsRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0b3JDb25maWcsXG4gIGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1tb2RhbC1mb3JtXCJdXG4pO1xuY29uc3QgY2FyZE1vZGFsRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0b3JDb25maWcsXG4gIGRvY3VtZW50LmZvcm1zW1wiY2FyZC1tb2RhbC1mb3JtXCJdXG4pO1xuY29uc3QgYXZhdGFyTW9kYWxGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRvckNvbmZpZyxcbiAgZG9jdW1lbnQuZm9ybXNbXCJhdmF0YXItbW9kYWwtZm9ybVwiXVxuKTtcblxucHJvZmlsZU1vZGFsRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jYXJkTW9kYWxGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhck1vZGFsRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8qKioqKioqXG4gKiBBUEkgKlxuICoqKioqKiovXG5jb25zdCB0b2tlbiA9IFwiYzJiMGZiOGYtNWUyYy00NWQzLTllNDAtYmJlNDg5MDViNDQ2XCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiB0b2tlbixcbiAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vKioqKioqKioqKioqXG4gKiBTRUNUSU9OUyAqXG4gKioqKioqKioqKioqL1xubGV0IGNhcmRTZWN0aW9uO1xuXG5hcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzdWx0KSA9PiB7XG4gIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgeyBpdGVtczogcmVzdWx0LCByZW5kZXJlcjogY3JlYXRlTmV3Q2FyZEVsIH0sXG4gICAgXCIuY2FyZHNfX2xpc3RcIlxuICApO1xuICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xufSk7XG5cbi8qKioqKioqKioqXG4gKiBQT1BVUFMgKlxuICoqKioqKioqKiovXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0XG4pO1xuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2NhcmQtYWRkLW1vZGFsXCIsXG4gIGhhbmRsZUFkZENhcmRNb2RhbFN1Ym1pdFxuKTtcbmNvbnN0IGF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYXZhdGFyLW1vZGFsXCIsIGhhbmRsZUF2YXRhck1vZGFsU3VibWl0KTtcbmNvbnN0IHBpY3R1cmVQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwaWN0dXJlLW1vZGFsXCIpO1xuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwQ29uZmlybShcbiAgXCIjY2FyZC1kZWxldGUtbW9kYWxcIixcbiAgaGFuZGxlUG9wdXBCdXR0b25DbGlja1xuKTtcblxucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5waWN0dXJlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKioqKioqKioqKioqXG4gKiBVU0VSSU5GTyAqXG4gKioqKioqKioqKioqL1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIjcHJvZmlsZS10aXRsZVwiLFxuICBqb2JTZWxlY3RvcjogXCIjcHJvZmlsZS1kZXNjcmlwdGlvblwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIjcHJvZmlsZS1pbWFnZVwiLFxufSk7XG5cbmFwaS5nZXRDdXJyZW50VXNlcigpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQubmFtZSwgcmVzdWx0LmFib3V0KTtcbiAgdXNlckluZm8uc2V0QXZhdGFyKHJlc3VsdC5hdmF0YXIpO1xufSk7XG5cbi8qKioqKioqKioqKioqKioqKipcbiAqIEVWRU5UIEhBTkRMRVJTICpcbiAqKioqKioqKioqKioqKioqKiovXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChlLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgcHJvZmlsZVBvcHVwLmxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC51cGRhdGVVc2VyKHRpdGxlLCBkZXNjcmlwdGlvbilcbiAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgICAgcHJvZmlsZVBvcHVwLmxvYWRpbmcoZmFsc2UpO1xuICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRNb2RhbFN1Ym1pdChlLCBjYXJkRGF0YSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGFkZENhcmRQb3B1cC5sb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAuY3JlYXRlQ2FyZChjYXJkRGF0YS5uYW1lLCBjYXJkRGF0YS5saW5rKVxuICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY2FyZERhdGEuX2lkID0gcmVzdWx0Ll9pZDtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlTmV3Q2FyZEVsKGNhcmREYXRhKSk7XG4gICAgICBhZGRDYXJkUG9wdXAubG9hZGluZyhmYWxzZSk7XG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyTW9kYWxTdWJtaXQoZSwgeyBsaW5rIH0pIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBhdmF0YXJNb2RhbC5sb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAudXBkYXRlQXZhdGFyKGxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKGxpbmspO1xuICAgICAgYXZhdGFyTW9kYWwubG9hZGluZyhmYWxzZSk7XG4gICAgICBhdmF0YXJNb2RhbC5jbG9zZSgpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soY2FyZE9iamVjdCkge1xuICBwaWN0dXJlUG9wdXAub3BlbihjYXJkT2JqZWN0LmxpbmssIGNhcmRPYmplY3QubmFtZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUJ0bkNsaWNrKGNhbGxlZE9iaikge1xuICBkZWxldGVDYXJkUG9wdXAub3BlbihjYWxsZWRPYmopO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQb3B1cEJ1dHRvbkNsaWNrKGNhbGxlZE9iaikge1xuICBjYWxsZWRPYmouaGFuZGxlRGVsZXRlKCk7XG4gIGFwaS5kZWxldGVDYXJkKGNhbGxlZE9iai5pZCk7XG4gIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQnRuQ2xpY2soY2FsbGVkT2JqKSB7XG4gIGlmICghY2FsbGVkT2JqLmlzTGlrZWQoKSkge1xuICAgIGFwaS5saWtlQ2FyZChjYWxsZWRPYmouaWQpO1xuICB9IGVsc2Uge1xuICAgIGFwaS5kaXNsaWtlQ2FyZChjYWxsZWRPYmouaWQpO1xuICB9XG4gIGNhbGxlZE9iai5zZXRMaWtlQnRuU3RhdGUoKTtcbn1cbi8qKioqKioqKioqKioqXG4gKiBGVU5DVElPTlMgKlxuICoqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmRFbChjYXJkRGF0YSkge1xuICAvL0NyZWF0ZXMgbmV3IGNhcmQgT2JqZWN0IGFuZCB0aGVuIHJldHVybnMgaXRzIGVsZW1lbnRcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQnRuQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUJ0bkNsaWNrXG4gICk7XG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcbn1cblxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKCkge1xuICBjb25zdCBpbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU1vZGFsTmFtZUlucHV0LnZhbHVlID0gaW5mby5uYW1lO1xuICBwcm9maWxlTW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gaW5mby5qb2I7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqXG4gKiBFVkVOVCBMSVNURU5FUlMgKlxuICoqKioqKioqKioqKioqKioqKiovXG4vL09wZW4gTW9kYWxzXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBmaWxsUHJvZmlsZUZvcm0oKTtcbiAgcHJvZmlsZU1vZGFsRm9ybVZhbGlkYXRvci5zZXRCdXR0b25TdGF0ZSgpO1xuICBwcm9maWxlTW9kYWxGb3JtVmFsaWRhdG9yLmNsZWFyVmFsaWRhdGlvbkVycm9ycygpO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5hZGRDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNhcmRNb2RhbEZvcm1WYWxpZGF0b3Iuc2V0QnV0dG9uU3RhdGUoKTtcbiAgY2FyZE1vZGFsRm9ybVZhbGlkYXRvci5jbGVhclZhbGlkYXRpb25FcnJvcnMoKTtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJNb2RhbEZvcm1WYWxpZGF0b3Iuc2V0QnV0dG9uU3RhdGUoKTtcbiAgYXZhdGFyTW9kYWxGb3JtVmFsaWRhdG9yLmNsZWFyVmFsaWRhdGlvbkVycm9ycygpO1xuICBhdmF0YXJNb2RhbC5vcGVuKCk7XG59KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqXG4gKiBFTkFCTEVTIFRSQU5TSVRJT05TICpcbiAqKioqKioqKioqKioqKioqKioqKioqKi9cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJuby10cmFuc2l0aW9uXCIpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAvL0dldHMgdGhlIGluaXRpYWwgY2FyZHNcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRVc2VyKCkge1xuICAgIC8vR2V0cyB0aGUgY3VycmVudCB1c2VyJ3MgaW5mb1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgdXBkYXRlVXNlcihuYW1lLCBhYm91dCkge1xuICAgIC8vVXBkYXRlcyB1c2VyIGluZm9ybWF0aW9uXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXJVcmwpIHtcbiAgICAvL1VwZGF0ZXMgdGhlIGN1cnJlbnQgdXNlcidzIGF2YXRhclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyVXJsLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVDYXJkKG5hbWUsIGxpbmspIHtcbiAgICAvL0FkZGluZyBhIG5ldyBjYXJkXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgLy9EZWxldGVzIGEgY2FyZFxuICAgIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgLy9MaWtlcyBhIGNhcmRcbiAgICBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIGRpc2xpa2VDYXJkKGNhcmRJZCkge1xuICAgIC8vRGlzbGlrZXMgYSBjYXJkXG4gICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BpY3R1cmVFbCA9IHRoaXMuX3BvcHVwRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbkVsID0gdGhpcy5fcG9wdXBFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX190aXRsZVwiKTtcbiAgfVxuXG4gIG9wZW4oaW1hZ2VTcmMsIG5hbWUpIHtcbiAgICB0aGlzLl9waWN0dXJlRWwuc3JjID0gaW1hZ2VTcmM7XG4gICAgdGhpcy5fcGljdHVyZUVsLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fY2FwdGlvbkVsLmlubmVyVGV4dCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVCdXR0b25DbGljaykge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUJ1dHRvbkNsaWNrID0gaGFuZGxlQnV0dG9uQ2xpY2s7XG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXBFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQnV0dG9uQ2xpY2sodGhpcy5fY2FsbGVkRWwpO1xuICAgIH0pO1xuICB9XG5cbiAgb3BlbihjYWxsZWRFbCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9jYWxsZWRFbCA9IGNhbGxlZEVsO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9jYWxsZWRFbCA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgICB0aGlzLl9uYW1lID0gdGhpcy5fbmFtZUVsLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2pvYiA9IHRoaXMuX2pvYkVsLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2F2YXRhciA9IHRoaXMuX2F2YXRhckVsLnNyYztcbiAgfVxuXG4gIF9zZXRQYWdlKCkge1xuICAgIHRoaXMuX2pvYkVsLnRleHRDb250ZW50ID0gdGhpcy5fam9iO1xuICAgIHRoaXMuX25hbWVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fYXZhdGFyRWwuc3JjID0gdGhpcy5fYXZhdGFyO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogdGhpcy5fbmFtZSwgam9iOiB0aGlzLl9qb2IgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2pvYiA9IGpvYjtcbiAgICB0aGlzLl9zZXRQYWdlKCk7XG4gIH1cblxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xuICAgIHRoaXMuX3NldFBhZ2UoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQnRuQ2xpY2siLCJoYW5kbGVMaWtlQnRuQ2xpY2siLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJ0aGlzIiwiaWQiLCJfaW5pdGlhbFN0YXRlIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ0bkNsaWNrIiwiX2hhbmRsZUxpa2VCdG5DbGljayIsInNldExpa2VCdG5TdGF0ZSIsIl9saWtlQnRuIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY29udGFpbnMiLCJoYW5kbGVEZWxldGUiLCJfY2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUJ0biIsIl9pbWFnZUVsIiwiZ2V0VmlldyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsIl90aXRsZUVsIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsIiwiX2NvbmZpZyIsIl9mb3JtRWwiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2VDbGFzc1Zpc2libGUiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja1ZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9hbGxJbnB1dHNWYWxpZCIsIl9pbnB1dEVscyIsImV2ZXJ5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX3N1Ym1pdEJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzZXRCdXR0b25TdGF0ZSIsImNsZWFyVmFsaWRhdGlvbkVycm9ycyIsInZhbGlkYXRvckNvbmZpZyIsImZvcm1TZWxlY3RvciIsImVycm9yTWVzc2FnZUNsYXNzIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsIiwiX2hhbmRsZUVzY0Nsb3NlIiwia2V5IiwiY2xvc2UiLCJsb2FkaW5nIiwieWVzIiwiX3N1Ym1pdEJ0biIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Rm9ybSIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJBcnJheSIsImZyb20iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXMiLCJ2YWx1ZSIsInJlc2V0IiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlQXZhdGFyIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVNb2RhbE5hbWVJbnB1dCIsInByb2ZpbGVNb2RhbERlc2NyaXB0aW9uSW5wdXQiLCJhZGRDYXJkQnRuIiwicHJvZmlsZU1vZGFsRm9ybVZhbGlkYXRvciIsImZvcm1zIiwiY2FyZE1vZGFsRm9ybVZhbGlkYXRvciIsImF2YXRhck1vZGFsRm9ybVZhbGlkYXRvciIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwicmVzdWx0IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q3VycmVudFVzZXIiLCJ1cGRhdGVVc2VyIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZUF2YXRhciIsImF2YXRhclVybCIsImF2YXRhciIsImNyZWF0ZUNhcmQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJjYXJkU2VjdGlvbiIsImNyZWF0ZU5ld0NhcmRFbCIsInByb2ZpbGVQb3B1cCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJmaW5hbGx5IiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImFkZENhcmRQb3B1cCIsImNhcmREYXRhIiwiYXZhdGFyTW9kYWwiLCJfcmVmMiIsInNldEF2YXRhciIsInBpY3R1cmVQb3B1cCIsIl9waWN0dXJlRWwiLCJfY2FwdGlvbkVsIiwiaW1hZ2VTcmMiLCJpbm5lclRleHQiLCJkZWxldGVDYXJkUG9wdXAiLCJoYW5kbGVCdXR0b25DbGljayIsIl9oYW5kbGVCdXR0b25DbGljayIsIl9idXR0b24iLCJfY2FsbGVkRWwiLCJjYWxsZWRFbCIsImNhbGxlZE9iaiIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsIiwiX2pvYkVsIiwiX2F2YXRhckVsIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsIl9zZXRQYWdlIiwiZ2V0VXNlckluZm8iLCJqb2IiLCJoYW5kbGVDYXJkQ2xpY2siLCJjYXJkT2JqZWN0IiwiaW5mbyIsImZpbGxQcm9maWxlRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=